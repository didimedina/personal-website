import { sharedConfig } from "solid-js";
import { createComponent, hydrate, render } from "solid-js/web";
var client_default = (element) => (Component, props, slotted, { client }) => {
  if (!window._$HY) {
    window._$HY = { events: [], completed: /* @__PURE__ */ new WeakSet(), r: {} };
  }
  if (!element.hasAttribute("ssr"))
    return;
  const fn = client === "only" ? render : hydrate;
  let _slots = {};
  if (Object.keys(slotted).length > 0) {
    if (sharedConfig.context) {
      element.querySelectorAll("astro-slot").forEach((slot) => {
        _slots[slot.getAttribute("name") || "default"] = slot.cloneNode(true);
      });
    } else {
      for (const [key, value] of Object.entries(slotted)) {
        _slots[key] = document.createElement("astro-slot");
        if (key !== "default")
          _slots[key].setAttribute("name", key);
        _slots[key].innerHTML = value;
      }
    }
  }
  const { default: children, ...slots } = _slots;
  const renderId = element.dataset.solidRenderId;
  fn(
    () => createComponent(Component, {
      ...props,
      ...slots,
      children
    }),
    element,
    {
      renderId
    }
  );
};
export {
  client_default as default
};
